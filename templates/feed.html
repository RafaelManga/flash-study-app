{% extends 'base.html' %}
{% block content %}
<style>
  .btn-chat-amigos { 
    display:inline-flex; 
    align-items:center; 
    gap:8px; 
    background:linear-gradient(90deg,#3b82f6,#06b6d4); 
    color:#fff; 
    font-weight:600; 
    border:none; 
    border-radius:22px; 
    padding:10px 22px; 
    font-size:1.02em; 
    box-shadow:0 2px 8px #0002; 
    cursor:pointer; 
    transition:background .2s, box-shadow .2s, transform .1s; 
    outline:none; 
    text-decoration:none;
  }
  .btn-chat-amigos:hover { 
    background:linear-gradient(90deg,#2563eb,#0ea5e9); 
    box-shadow:0 4px 16px #06b6d455; 
    transform:translateY(-1px); 
  }
  .feed-topbar { 
    display:flex; 
    justify-content:center; 
    max-width:800px; 
    margin:0 auto 20px auto; 
  }
  .feed-container { 
    max-width:800px; 
    margin:0 auto; 
    padding:0 20px;
  }
  .feed-title {
    text-align:center;
    margin-bottom:30px;
    color:#fff;
    font-size:2em;
    font-weight:bold;
  }
  .feed-card {
    background:#2a2a2a;
    border-radius:12px;
    padding:20px;
    margin-bottom:20px;
    box-shadow:0 4px 12px rgba(0,0,0,0.3);
    transition:transform 0.2s, box-shadow 0.2s;
  }
  .feed-card:hover {
    transform:translateY(-2px);
    box-shadow:0 6px 20px rgba(0,0,0,0.4);
  }
  .feed-header {
    display:flex;
    align-items:center;
    gap:12px;
    margin-bottom:12px;
    flex-wrap:wrap;
  }
  .feed-tipo {
    display:flex;
    align-items:center;
    gap:8px;
    color:#a78bfa;
    font-weight:600;
    font-size:0.9em;
  }
  .feed-user {
    display:flex;
    align-items:center;
    gap:8px;
  }
  .feed-user a {
    color:#60a5fa;
    text-decoration:none;
    font-weight:600;
  }
  .feed-user a:hover {
    color:#93c5fd;
  }
  .feed-data {
    color:#10b981;
    font-size:0.85em;
    margin-left:auto;
  }
  .feed-descricao {
    color:#e5e7eb;
    line-height:1.5;
    font-size:1em;
  }
  .feed-empty {
    text-align:center;
    color:#9ca3af;
    margin:60px 0;
    font-size:1.1em;
  }
</style>
<div class="feed-topbar">
  <a href="/chat" class="btn-chat-amigos" title="Conversar entre amigos" aria-label="Conversar entre amigos">
    <span style="font-size:1.2em;">ðŸ’¬</span>
    <span>Conversar entre amigos</span>
  </a>
</div>
<div class="feed-container">
  <h2 class="feed-title">Feed Social</h2>
  {% for atividade in atividades %}
    <div class="feed-card">
      <div class="feed-header">
        <span class="feed-tipo">{{ atividade.icone }} {{ atividade.tipo|capitalize }}</span>
        <span class="feed-user">
          <a href="/perfil_amigo/{{ atividade.usuario_id }}">
            {{ atividade.usuario_nome }}
          </a>
          {% if atividade.usuario_id != usuario.id %}
          <a href="/chat#dm={{ atividade.usuario_id }}" style="color:#3b82f6; text-decoration:none; font-size:0.9em;" title="Enviar mensagem">
            ðŸ’¬
          </a>
          {% endif %}
        </span>
        <span class="feed-data">{{ atividade.data|datetime }}</span>
      </div>
      <div class="feed-descricao">{{ atividade.descricao }}</div>
    </div>
  {% else %}
    <div class="feed-empty">Nenhuma atividade recente.</div>
  {% endfor %}
</div>
{% endblock %}
