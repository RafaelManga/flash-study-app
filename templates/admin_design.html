{% extends "base.html" %}
{% block title %}Design da Plataforma - Admin{% endblock %}

{% block content %}
<div style="margin-bottom: 40px;">
    <h1 style="font-size: 2.5rem; margin-bottom: 16px;">üé® Design da Plataforma</h1>
    <p style="color: var(--muted);">Personalize as cores, fontes, banners e layout</p>
</div>

<form method="POST" enctype="multipart/form-data">
    <!-- Cores -->
    <div class="card" style="margin-bottom: 30px;">
        <h2 style="margin-bottom: 20px;">üé® Cores</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
            <div>
                <label class="form-label">Cor Prim√°ria</label>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <input type="color" name="cor_primaria" class="form-control" 
                           value="{{ config.tema.cor_primaria }}" style="width: 80px; height: 50px;">
                    <input type="text" class="form-control" value="{{ config.tema.cor_primaria }}" 
                           readonly style="flex: 1;">
                </div>
            </div>
            
            <div>
                <label class="form-label">Cor Secund√°ria</label>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <input type="color" name="cor_secundaria" class="form-control" 
                           value="{{ config.tema.cor_secundaria }}" style="width: 80px; height: 50px;">
                    <input type="text" class="form-control" value="{{ config.tema.cor_secundaria }}" 
                           readonly style="flex: 1;">
                </div>
            </div>
        </div>
    </div>
    
    <!-- Fontes -->
    <div class="card" style="margin-bottom: 30px;">
        <h2 style="margin-bottom: 20px;">üî§ Tipografia</h2>
        
        <div>
            <label class="form-label">Fonte Principal</label>
            <select name="fonte_principal" class="form-control">
                <option value="Inter, system-ui, sans-serif" {% if config.tema.fonte_principal == "Inter, system-ui, sans-serif" %}selected{% endif %}>
                    Inter (Padr√£o)
                </option>
                <option value="Roboto, sans-serif" {% if config.tema.fonte_principal == "Roboto, sans-serif" %}selected{% endif %}>
                    Roboto
                </option>
                <option value="'Open Sans', sans-serif" {% if config.tema.fonte_principal == "'Open Sans', sans-serif" %}selected{% endif %}>
                    Open Sans
                </option>
                <option value="'Poppins', sans-serif" {% if config.tema.fonte_principal == "'Poppins', sans-serif" %}selected{% endif %}>
                    Poppins
                </option>
                <option value="'Montserrat', sans-serif" {% if config.tema.fonte_principal == "'Montserrat', sans-serif" %}selected{% endif %}>
                    Montserrat
                </option>
                <option value="Georgia, serif" {% if config.tema.fonte_principal == "Georgia, serif" %}selected{% endif %}>
                    Georgia
                </option>
            </select>
        </div>
    </div>
    
    <!-- Banners e Imagens -->
    <div class="card" style="margin-bottom: 30px;">
        <h2 style="margin-bottom: 20px;">üñºÔ∏è Banners e Imagens</h2>
        
        <div style="margin-bottom: 24px;">
            <label class="form-label">Banner da Home</label>
            {% if config.tema.banner_home %}
            <div style="margin-bottom: 12px;">
                <img src="{{ url_for('static', filename=config.tema.banner_home) }}" 
                     alt="Banner atual" 
                     style="max-width: 100%; max-height: 200px; border-radius: 8px;">
            </div>
            {% endif %}
            <input type="file" name="banner_home" class="form-control" accept="image/*">
            <p style="color: var(--muted); font-size: 0.9rem; margin-top: 8px;">
                Recomendado: 1920x400px, formato JPG ou PNG
            </p>
        </div>
        
        <div>
            <label class="form-label">Logo da Plataforma</label>
            {% if config.tema.logo %}
            <div style="margin-bottom: 12px;">
                <img src="{{ url_for('static', filename=config.tema.logo) }}" 
                     alt="Logo atual" 
                     style="max-height: 80px;">
            </div>
            {% endif %}
            <input type="file" name="logo" class="form-control" accept="image/*">
            <p style="color: var(--muted); font-size: 0.9rem; margin-top: 8px;">
                Recomendado: 200x60px (transparente), formato PNG
            </p>
        </div>
    </div>
    
    <!-- Visualiza√ß√£o -->
    <div class="card" style="margin-bottom: 30px; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); color: white;">
        <h2 style="margin-bottom: 20px;">üëÅÔ∏è Pr√©-visualiza√ß√£o</h2>
        <p style="opacity: 0.9;">As altera√ß√µes ser√£o aplicadas em toda a plataforma ap√≥s salvar</p>
    </div>
    
    <div style="display: flex; gap: 12px;">
        <button type="submit" class="btn btn-primary">üíæ Salvar Altera√ß√µes</button>
        <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary">‚Üê Voltar</a>
    </div>
</form>

<script>
// Sincroniza color picker com texto
document.querySelectorAll('input[type="color"]').forEach(picker => {
    const textInput = picker.parentElement.querySelector('input[type="text"]');
    picker.addEventListener('input', () => {
        textInput.value = picker.value;
    });
});
</script>
{% endblock %}
