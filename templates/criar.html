{% extends "base.html" %}
{% block content %}
<h2>{% if editar %}Editar card{% else %}Criar card{% endif %}</h2>

<form method="post" class="card form">
  {% if not editar %}
    <label>Escolher baralho existente</label>
    <select name="baralho_existente">
      <option value="">(nenhum)</option>
      {% for nome in baralhos.keys() %}
        <option value="{{ nome }}">{{ nome }}</option>
      {% endfor %}
    </select>

    <label>Ou criar novo baralho</label>
    <input type="text" name="novo_baralho" placeholder="Nome do novo baralho">
  {% else %}
    <p>Baralho: <strong>{{ baralho_atual }}</strong></p>
  {% endif %}

  <label>Pergunta (frente)</label>
  <input type="text" name="frente" value="{{ card.frente if card }}" required>

  <label>Resposta (verso)</label>
  <textarea name="verso" rows="4" required>{{ card.verso if card }}</textarea>

  <div class="form-actions">
    <button class="btn" type="submit">{% if editar %}Salvar{% else %}Adicionar{% endif %}</button>
    <a class="btn-link" href="{{ url_for('home') }}">Cancelar</a>
  </div>
</form>
{% endblock %}
